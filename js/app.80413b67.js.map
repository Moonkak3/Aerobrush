{"version":3,"file":"js/app.80413b67.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/components/LiveWebStream.vue","webpack://frontend/./src/assets/scripts/vectorUtils.js","webpack://frontend/./src/assets/scripts/gestureUtils.js","webpack://frontend/./src/assets/scripts/mouseUtils.js","webpack://frontend/./src/stores/handCursor.js","webpack://frontend/./src/components/LiveWebStream.vue?bcf5","webpack://frontend/./src/components/BrushSettings.vue","webpack://frontend/./src/stores/brush.js","webpack://frontend/./src/stores/eraser.js","webpack://frontend/./src/components/SliderInput.vue","webpack://frontend/./src/components/SliderInput.vue?acb5","webpack://frontend/./src/components/BrushSettings.vue?003c","webpack://frontend/./src/components/HandCursor.vue","webpack://frontend/./src/components/HandCursor.vue?c6c2","webpack://frontend/./src/components/DrawingCanvas.vue","webpack://frontend/./src/assets/scripts/eventBus.js","webpack://frontend/./src/components/DrawingCanvas.vue?a244","webpack://frontend/./src/components/TaskBar.vue","webpack://frontend/./src/components/TaskBar.vue?85b3","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\r\n    <!-- <img alt=\"Vue logo\" src=\"./assets/logo.png\" /> -->\r\n    <Toast class=\"UI\" />\r\n    <div class=\"background\">\r\n        <HandCursor class=\"cursor\" />\r\n        <BrushSettings class=\"UI\" />\r\n        <LiveWebStream class=\"UI\" />\r\n        <TaskBar class=\"UI\" />\r\n        <DrawingCanvas class=\"drawing-canvas\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport LiveWebStream from \"./components/LiveWebStream.vue\";\r\nimport BrushSettings from \"./components/BrushSettings.vue\";\r\nimport HandCursor from \"./components/HandCursor.vue\";\r\nimport DrawingCanvas from \"./components/DrawingCanvas.vue\";\r\nimport TaskBar from \"./components/TaskBar.vue\";\r\nimport Toast from \"primevue/toast\";\r\n\r\ndocument.body.style.cursor = \"none\";\r\nexport default {\r\n    name: \"App\",\r\n    components: {\r\n        BrushSettings,\r\n        LiveWebStream,\r\n        HandCursor,\r\n        DrawingCanvas,\r\n        TaskBar,\r\n        Toast,\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#app {\r\n    font-family: Avenir, Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    text-align: center;\r\n    // color: #2c3e50;\r\n    // margin-top: 60px;\r\n}\r\n.UI {\r\n    z-index: 9;\r\n}\r\n.cursor {\r\n    z-index: 99;\r\n}\r\n.drawing-canvas {\r\n    z-index: 5;\r\n}\r\n.background {\r\n    background-color: rgb(36, 39, 41);\r\n}\r\n</style>\r\n","<template>\r\n    <div v-if=\"webcamSupported\" ref=\"card\" class=\"noClick\">\r\n        <Card style=\"display: inline-block\" class=\"container\">\r\n            <template #header>\r\n                <div class=\"live-stream-container\">\r\n                    <video ref=\"videoElement\" autoplay></video>\r\n                    <canvas ref=\"canvasElement\"></canvas>\r\n                </div>\r\n            </template>\r\n        </Card>\r\n        <canvas class=\"hand-overlay\" ref=\"overlayElement\"></canvas>\r\n    </div>\r\n    <!-- <div v-else>\r\n        <p class=\"noClick\">\r\n            Webcam access is not supported, as the website is run on the local\r\n            network using HTTP. Switch to localhost for computer vision support.\r\n        </p>\r\n    </div> -->\r\n</template>\r\n\r\n<script>\r\nimport { FilesetResolver, HandLandmarker } from \"@mediapipe/tasks-vision\";\r\nimport { drawConnectors, drawLandmarks } from \"@mediapipe/drawing_utils\";\r\nimport { HAND_CONNECTIONS } from \"@mediapipe/hands\";\r\nimport { handCursorStore } from \"@/stores/handCursor\";\r\nimport Card from \"primevue/card\";\r\n\r\nexport default {\r\n    components: {\r\n        Card,\r\n    },\r\n    data() {\r\n        return {\r\n            webcamSupported: true, // Default to true, will be set based on actual support\r\n            handLandmarker: undefined,\r\n            webcamRunning: true,\r\n            lastVideoTime: -1,\r\n            results: undefined,\r\n            gesture: undefined,\r\n            handCursor: handCursorStore(),\r\n        };\r\n    },\r\n    mounted() {\r\n        this.checkWebcamSupport();\r\n        if (this.webcamSupported) {\r\n            this.enableWebcam();\r\n            this.createHandLandmarker();\r\n        }\r\n    },\r\n    methods: {\r\n        async checkWebcamSupport() {\r\n            if (\r\n                !navigator.mediaDevices ||\r\n                !navigator.mediaDevices.getUserMedia\r\n            ) {\r\n                this.webcamSupported = false;\r\n                console.error(\r\n                    \"getUserMedia() is not supported by your browser\"\r\n                );\r\n            }\r\n        },\r\n        async createHandLandmarker() {\r\n            try {\r\n                const vision = await FilesetResolver.forVisionTasks(\r\n                    \"https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm\"\r\n                );\r\n                this.handLandmarker = await HandLandmarker.createFromOptions(\r\n                    vision,\r\n                    {\r\n                        baseOptions: {\r\n                            modelAssetPath:\r\n                                \"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task\",\r\n                            delegate: \"GPU\",\r\n                        },\r\n                        runningMode: \"VIDEO\",\r\n                        numHands: 2,\r\n                    }\r\n                );\r\n                console.log(\"HandLandmarker initialized.\");\r\n            } catch (error) {\r\n                console.error(\"Error initializing HandLandmarker:\", error);\r\n            }\r\n        },\r\n        async enableWebcam() {\r\n            const videoElement = this.$refs.videoElement;\r\n            const constraints = {\r\n                video: {\r\n                    aspectRatio: 16 / 9,\r\n                },\r\n            };\r\n            try {\r\n                const stream = await navigator.mediaDevices.getUserMedia(\r\n                    constraints\r\n                );\r\n                videoElement.srcObject = stream;\r\n                videoElement.addEventListener(\"loadeddata\", this.predictWebcam);\r\n            } catch (err) {\r\n                console.error(\"Error accessing webcam:\", err);\r\n            }\r\n        },\r\n        async predictWebcam() {\r\n            if (!this.handLandmarker) {\r\n                console.log(\"HandLandmarker is not initialized yet.\");\r\n                return;\r\n            }\r\n\r\n            const videoElement = this.$refs.videoElement;\r\n            const canvasElement = this.$refs.canvasElement;\r\n            const canvasCtx = canvasElement.getContext(\"2d\");\r\n            const overlayElement = this.$refs.overlayElement;\r\n            const overlayCtx = overlayElement.getContext(\"2d\");\r\n\r\n            canvasElement.width = videoElement.clientWidth;\r\n            canvasElement.height = videoElement.clientHeight;\r\n            overlayElement.width = document.documentElement.clientWidth;\r\n            overlayElement.height = document.documentElement.clientHeight;\r\n\r\n            if (this.lastVideoTime !== videoElement.currentTime) {\r\n                this.lastVideoTime = videoElement.currentTime;\r\n                this.results = await this.handLandmarker.detectForVideo(\r\n                    videoElement,\r\n                    performance.now()\r\n                );\r\n            }\r\n\r\n            canvasCtx.clearRect(\r\n                0,\r\n                0,\r\n                canvasElement.width,\r\n                canvasElement.height\r\n            );\r\n            overlayCtx.clearRect(\r\n                0,\r\n                0,\r\n                canvasElement.width,\r\n                canvasElement.height\r\n            );\r\n            if (this.results && this.results.landmarks) {\r\n                this.interpretLandMarks(this.results, canvasCtx, overlayCtx);\r\n            }\r\n\r\n            if (this.webcamRunning) {\r\n                window.requestAnimationFrame(this.predictWebcam);\r\n            }\r\n        },\r\n        interpretLandMarks(results, canvasCtx, overlayCtx) {\r\n            for (let i = 0; i < results.landmarks.length; i++) {\r\n                const landmarks = results.landmarks[i];\r\n                // Handedness is flipped in the video :(\r\n                let handedness = \"\";\r\n                if (results.handednesses[i][0].categoryName === \"Left\") {\r\n                    handedness = \"Right\";\r\n                } else if (\r\n                    results.handednesses[i][0].categoryName === \"Right\"\r\n                ) {\r\n                    handedness = \"Left\";\r\n                }\r\n\r\n                const modifiedLandmarks = landmarks.map((point) => {\r\n                    return { ...point, x: 1 - point.x };\r\n                });\r\n\r\n                drawConnectors(canvasCtx, modifiedLandmarks, HAND_CONNECTIONS, {\r\n                    color: \"#00FF00\",\r\n                    lineWidth: 1,\r\n                });\r\n                drawLandmarks(canvasCtx, modifiedLandmarks, {\r\n                    color: \"#FF0000\",\r\n                    radius: 1,\r\n                });\r\n\r\n                const color = handedness === \"Left\" ? \"#FF0000\" : \"#0000FF\";\r\n                drawConnectors(\r\n                    overlayCtx,\r\n                    modifiedLandmarks,\r\n                    HAND_CONNECTIONS,\r\n                    {\r\n                        color: color,\r\n                        lineWidth: 5,\r\n                    }\r\n                );\r\n                drawLandmarks(overlayCtx, modifiedLandmarks, {\r\n                    color: \"#000000\",\r\n                    radius: 5,\r\n                });\r\n                this.handCursor.updateHandCursor(handedness, modifiedLandmarks);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/stylesheets/main.scss\";\r\n:deep(.p-card-body) {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n.container {\r\n    position: fixed;\r\n    display: inline-block;\r\n    pointer-events: none;\r\n    top: 20px;\r\n    right: 20px;\r\n    z-index: 9;\r\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\r\n}\r\n.text-container {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: left;\r\n}\r\n.live-stream-container {\r\n    display: inline-block;\r\n}\r\n\r\n.live-stream-container video {\r\n    pointer-events: none;\r\n    transform: rotateY(180deg);\r\n    -webkit-transform: rotateY(180deg);\r\n    -moz-transform: rotateY(180deg);\r\n    display: block;\r\n    aspect-ratio: 16/9;\r\n    object-fit: contain;\r\n    max-width: 12vw;\r\n    max-height: 12vh;\r\n    width: 100%;\r\n    position: relative;\r\n    border-radius: 1rem;\r\n    // filter: grayscale(70%);\r\n    z-index: 1;\r\n}\r\n\r\n.live-stream-container canvas {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n}\r\n\r\n.hand-overlay {\r\n    position: absolute;\r\n    display: inline-block;\r\n    top: 0;\r\n    left: 0;\r\n    aspect-ratio: 16/9;\r\n    z-index: 999;\r\n}\r\n\r\n.noClick {\r\n    pointer-events: none;\r\n}\r\n\r\nbutton {\r\n    margin: 2rem;\r\n}\r\n\r\nh1 {\r\n    margin: 0rem;\r\n    text-align: left;\r\n}\r\n</style>\r\n","class Vector {\r\n    constructor(x, y, z = 0) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n}\r\n\r\nfunction dist2D(landmark1, landmark2, root = true) {\r\n    let value =\r\n        Math.pow(landmark1.x - landmark2.x, 2) +\r\n        Math.pow(landmark1.y - landmark2.y, 2);\r\n    if (root) {\r\n        value = Math.sqrt(value);\r\n    }\r\n    return value;\r\n}\r\n\r\nfunction dist3D(landmark1, landmark2, root = true) {\r\n    let value =\r\n        Math.pow(landmark1.x - landmark2.x, 2) +\r\n        Math.pow(landmark1.y - landmark2.y, 2) +\r\n        Math.pow(landmark1.z - landmark2.z, 2);\r\n    if (root) {\r\n        value = Math.sqrt(value);\r\n    }\r\n    return value;\r\n}\r\n\r\nfunction dot2D(landmark1, landmark2) {\r\n    return landmark1.x * landmark2.x + landmark1.y * landmark2.y;\r\n}\r\n\r\nfunction dot3D(landmark1, landmark2) {\r\n    return (\r\n        landmark1.x * landmark2.x +\r\n        landmark1.y * landmark2.y +\r\n        landmark1.z * landmark2.z\r\n    );\r\n}\r\n\r\nfunction avgPoint(landmark1, landmark2, ratio = 0.5) {\r\n    return new Vector(\r\n        landmark1.x * ratio + landmark2.x * (1 - ratio),\r\n        landmark1.y * ratio + landmark2.y * (1 - ratio)\r\n    );\r\n}\r\n\r\nfunction checkInside(A, B, C) {\r\n    let AB = new Vector(B.x - A.x, B.y - A.y);\r\n    let CB = new Vector(B.x - C.x, B.y - C.y);\r\n    let AC = new Vector(C.x - A.x, C.y - A.y);\r\n    let AC2 = dist2D(A, C, false);\r\n\r\n    if (Math.abs(dot2D(AB, AC)) > AC2 || Math.abs(dot2D(CB, AC)) > AC2) {\r\n        return false;\r\n    } else {\r\n        return true;\r\n    }\r\n}\r\n\r\nexport { Vector, dist2D, dist3D, dot3D, dot2D, avgPoint, checkInside };\r\n","import { dist2D, dist3D, avgPoint, checkInside } from \"./vectorUtils.js\";\r\n\r\n// lm: handLandMarks\r\nfunction getGesture(lm, type = \"pinch\") {\r\n    const threshold = Math.max(\r\n        dist2D(lm[5], lm[17]),\r\n        dist2D(lm[17], lm[0]),\r\n        dist2D(lm[0], lm[1]),\r\n        dist2D(lm[1], lm[5])\r\n    );\r\n\r\n    let gesture = {\r\n        mouseDown: false,\r\n        close: false,\r\n    };\r\n    switch (type) {\r\n        case \"pinch\": {\r\n            // check if index and thumb are closed\r\n            let distTip = dist3D(lm[4], lm[8]);\r\n            let distJoint = dist3D(lm[3], lm[7]);\r\n            gesture.mouseDown = distTip < distJoint && distTip < threshold / 5;\r\n\r\n            // check if middle, ring and pinky are clenched\r\n            gesture.close =\r\n                checkInside(lm[0], lm[12], lm[10]) &&\r\n                checkInside(lm[0], lm[16], lm[14]) &&\r\n                checkInside(lm[0], lm[20], lm[18]);\r\n\r\n            break;\r\n        }\r\n        case \"point\": {\r\n            // check if thumb is closed (tip is between joint and pinky)\r\n            gesture.mouseDown =\r\n                checkInside(lm[3], lm[4], lm[5]) &&\r\n                dist3D(lm[4], lm[10]) < threshold;\r\n\r\n            // check if middle, ring and pinky are clenched\r\n            gesture.close =\r\n                checkInside(lm[0], lm[12], lm[10]) &&\r\n                checkInside(lm[0], lm[16], lm[14]) &&\r\n                checkInside(lm[0], lm[20], lm[18]);\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n    return gesture;\r\n}\r\n\r\nfunction getCursor(lm, type = \"pinch\") {\r\n    let cursor = null;\r\n    switch (type) {\r\n        case \"pinch\": {\r\n            const tips = avgPoint(lm[4], lm[8], 0.8);\r\n            const joints = avgPoint(lm[3], lm[7], 0.5);\r\n            cursor = avgPoint(tips, joints, 0.5);\r\n            break;\r\n        }\r\n        case \"point\": {\r\n            cursor = avgPoint(lm[7], lm[8]);\r\n            break;\r\n        }\r\n    }\r\n    return [cursor.x, cursor.y];\r\n}\r\n\r\nexport { getGesture, getCursor };\r\n","let isMouseDownLeft = false;\r\nlet isMouseDownRight = false;\r\nlet currentElement = null;\r\nlet mouseDownElementLeft = null;\r\nlet mouseDownElementRight = null;\r\n\r\nfunction handleCursor(x, y, clicked, handedness) {\r\n    const element = document.elementFromPoint(x, y);\r\n    if (!element) return;\r\n\r\n    // Create a new mouse event object for mousemove\r\n    const mouseMoveEvent = new MouseEvent(\"mousemove\", {\r\n        clientX: x,\r\n        clientY: y,\r\n        view: window,\r\n        bubbles: true,\r\n        cancelable: true,\r\n    });\r\n    mouseMoveEvent.handedness = handedness;\r\n\r\n    // Dispatch the mousemove event\r\n    element.dispatchEvent(mouseMoveEvent);\r\n\r\n    // If the current element is different from the previous one\r\n    if (element !== currentElement) {\r\n        if (currentElement) {\r\n            const mouseOutEvent = new MouseEvent(\"mouseout\", {\r\n                clientX: x,\r\n                clientY: y,\r\n                view: window,\r\n                bubbles: true,\r\n                cancelable: true,\r\n                relatedTarget: element,\r\n            });\r\n            mouseOutEvent.handedness = handedness;\r\n\r\n            // Dispatch the mouseout event on the previous element\r\n            currentElement.dispatchEvent(mouseOutEvent);\r\n        }\r\n\r\n        if (element) {\r\n            const mouseOverEvent = new MouseEvent(\"mouseover\", {\r\n                clientX: x,\r\n                clientY: y,\r\n                view: window,\r\n                bubbles: true,\r\n                cancelable: true,\r\n                relatedTarget: currentElement,\r\n            });\r\n            mouseOverEvent.handedness = handedness;\r\n\r\n            // Dispatch the mouseover event on the new element\r\n            element.dispatchEvent(mouseOverEvent);\r\n        }\r\n\r\n        currentElement = element;\r\n    }\r\n\r\n    // If clicked is true and the mouse button was not previously down for the given hand\r\n    if (clicked) {\r\n        if (handedness === \"Left\" && !isMouseDownLeft) {\r\n            isMouseDownLeft = true;\r\n            mouseDownElementLeft = element; // Store the element where the left mousedown occurred\r\n            const mouseDownEvent = new MouseEvent(\"mousedown\", {\r\n                clientX: x,\r\n                clientY: y,\r\n                view: window,\r\n                bubbles: true,\r\n                cancelable: true,\r\n            });\r\n            mouseDownEvent.handedness = handedness;\r\n\r\n            // Dispatch the mousedown event\r\n            element.dispatchEvent(mouseDownEvent);\r\n        } else if (handedness === \"Right\" && !isMouseDownRight) {\r\n            isMouseDownRight = true;\r\n            mouseDownElementRight = element; // Store the element where the right mousedown occurred\r\n            const mouseDownEvent = new MouseEvent(\"mousedown\", {\r\n                clientX: x,\r\n                clientY: y,\r\n                view: window,\r\n                bubbles: true,\r\n                cancelable: true,\r\n            });\r\n            mouseDownEvent.handedness = handedness;\r\n\r\n            // Dispatch the mousedown event\r\n            element.dispatchEvent(mouseDownEvent);\r\n        }\r\n    }\r\n\r\n    // If clicked is false and the mouse button was previously down for the given hand\r\n    if (!clicked) {\r\n        if (handedness === \"Left\" && isMouseDownLeft) {\r\n            isMouseDownLeft = false;\r\n\r\n            const mouseUpEvent = new MouseEvent(\"mouseup\", {\r\n                clientX: x,\r\n                clientY: y,\r\n                view: window,\r\n                bubbles: true,\r\n                cancelable: true,\r\n            });\r\n            mouseUpEvent.handedness = handedness;\r\n\r\n            // Dispatch the mouseup event\r\n            element.dispatchEvent(mouseUpEvent);\r\n\r\n            // Dispatch the click event only if the mouseup occurred on the same element as the mousedown\r\n            if (element === mouseDownElementLeft) {\r\n                const clickEvent = new MouseEvent(\"click\", {\r\n                    clientX: x,\r\n                    clientY: y,\r\n                    view: window,\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                });\r\n\r\n                clickEvent.handedness = handedness;\r\n                // Dispatch the click event\r\n                element.dispatchEvent(clickEvent);\r\n            }\r\n\r\n            mouseDownElementLeft = null; // Reset the mouseDownElement for the left hand\r\n        } else if (handedness === \"Right\" && isMouseDownRight) {\r\n            isMouseDownRight = false;\r\n\r\n            const mouseUpEvent = new MouseEvent(\"mouseup\", {\r\n                clientX: x,\r\n                clientY: y,\r\n                view: window,\r\n                bubbles: true,\r\n                cancelable: true,\r\n            });\r\n            mouseUpEvent.handedness = handedness;\r\n\r\n            // Dispatch the mouseup event\r\n            element.dispatchEvent(mouseUpEvent);\r\n\r\n            // Dispatch the click event only if the mouseup occurred on the same element as the mousedown\r\n            if (element === mouseDownElementRight) {\r\n                const clickEvent = new MouseEvent(\"click\", {\r\n                    clientX: x,\r\n                    clientY: y,\r\n                    view: window,\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                });\r\n\r\n                clickEvent.handedness = handedness;\r\n                // Dispatch the click event\r\n                element.dispatchEvent(clickEvent);\r\n            }\r\n\r\n            mouseDownElementRight = null; // Reset the mouseDownElement for the right hand\r\n        }\r\n    }\r\n}\r\n\r\nexport { handleCursor };\r\n","import { defineStore } from \"pinia\";\r\nimport { getCursor, getGesture } from \"@/assets/scripts/gestureUtils.js\"; // Update the path\r\nimport { handleCursor } from \"@/assets/scripts/mouseUtils.js\";\r\n\r\nexport const handCursorStore = defineStore(\"handCursor\", {\r\n    state: () => {\r\n        return {\r\n            x: 0,\r\n            y: 0,\r\n            rightX: 0,\r\n            rightY: 0,\r\n            leftX: 0,\r\n            leftY: 0,\r\n            isLeftDown: false,\r\n            isRightDown: false,\r\n            mode: \"draw\",\r\n            lazyRadius: 3,\r\n\r\n            history: [],\r\n            history_len: 2,\r\n            lastX: 0,\r\n            lastY: 0,\r\n        };\r\n    },\r\n    actions: {\r\n        updateHandCursor(handedness, landmarks) {\r\n            // Multiplier for border of the hand detection\r\n            // If want to edit this, need to also edit hand overlay :( more work. Keep to 1 for now\r\n            const borderMultiplier = 1;\r\n\r\n            // handle position\r\n            let [rawX, rawY] = getCursor(landmarks, \"pinch\");\r\n\r\n            rawX = (rawX - 0.5) * borderMultiplier + 0.5;\r\n            rawY = (rawY - 0.5) * borderMultiplier + 0.5;\r\n\r\n            rawX *= window.innerWidth;\r\n            rawY *= window.innerHeight;\r\n\r\n            // calculating bx, by\r\n            // (brushX and brushY, which accounts for a lazy radius)\r\n            const dx = rawX - this.lastX;\r\n            const dy = rawY - this.lastY;\r\n            const dist = (dx ** 2 + dy ** 2) ** 0.5;\r\n\r\n            if (dist <= this.lazyRadius) return;\r\n\r\n            const proportion = (dist - this.lazyRadius) / dist;\r\n            this.x = this.lastX + dx * proportion;\r\n            this.y = this.lastY + dy * proportion;\r\n            this.lastX = this.x;\r\n            this.lastY = this.y;\r\n\r\n            // handle gestures\r\n            // this.history.unshift(getGesture(landmarks, \"pinch\"));\r\n            // while (this.history.length > this.history_len) {\r\n            //     this.history.pop();\r\n            // }\r\n            // if (\r\n            //     this.history.every(\r\n            //         (gesture) =>\r\n            //             gesture.mouseDown === this.history[0].mouseDown &&\r\n            //             gesture.close === this.history[0].close\r\n            //     )\r\n            // ) {\r\n            //     this.gesture = this.history[0];\r\n            // }\r\n\r\n            this.gesture = getGesture(landmarks, \"pinch\");\r\n\r\n            // Perform actions based on the gesture\r\n            if (handedness === \"Right\") {\r\n                this.rightX = this.x;\r\n                this.rightY = this.y;\r\n                this.mode = this.gesture.close ? \"draw\" : \"erase\";\r\n                this.isRightDown = this.gesture.mouseDown;\r\n            } else {\r\n                // LEFT\r\n                this.leftX = this.x;\r\n                this.leftY = this.y;\r\n                if (this.gesture.mouseDown) {\r\n                    this.isLeftDown = true;\r\n                } else {\r\n                    this.isLeftDown = false;\r\n                }\r\n            }\r\n            handleCursor(this.x, this.y, this.gesture.mouseDown, handedness);\r\n        },\r\n    },\r\n});\r\n","import { render } from \"./LiveWebStream.vue?vue&type=template&id=b7121382&scoped=true\"\nimport script from \"./LiveWebStream.vue?vue&type=script&lang=js\"\nexport * from \"./LiveWebStream.vue?vue&type=script&lang=js\"\n\nimport \"./LiveWebStream.vue?vue&type=style&index=0&id=b7121382&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b7121382\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"container\">\r\n        <SliderInput\r\n            class=\"size\"\r\n            v-model=\"currentMode.size\"\r\n            :min=\"1\"\r\n            :max=\"100\"\r\n            :step=\"1\"\r\n        />\r\n        <b-colorpicker\r\n            v-model=\"this.brush.color\"\r\n            :position=\"'is-top-left'\"\r\n            :representation=\"'triangle'\"\r\n        />\r\n\r\n        <SliderInput\r\n            class=\"opacity\"\r\n            v-model=\"currentMode.opacity\"\r\n            :min=\"0\"\r\n            :max=\"1\"\r\n            :step=\"0.01\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { handCursorStore } from \"@/stores/handCursor\";\r\nimport { brushStore } from \"@/stores/brush\";\r\nimport { eraserStore } from \"@/stores/eraser\";\r\nimport { watch } from \"vue\";\r\nimport SliderInput from \"@/components/SliderInput.vue\";\r\n\r\nexport default {\r\n    components: {\r\n        SliderInput,\r\n    },\r\n    data() {\r\n        return {\r\n            handCursor: handCursorStore(),\r\n            brush: brushStore(),\r\n            eraser: eraserStore(),\r\n            opacity: 1,\r\n            size: 5,\r\n            color: \"#0000FF\",\r\n        };\r\n    },\r\n    computed: {\r\n        currentMode() {\r\n            if (this.handCursor.mode === \"draw\") {\r\n                return this.brush;\r\n            } else if (this.handCursor.mode === \"erase\") {\r\n                return this.eraser;\r\n            }\r\n            return this.brush;\r\n        },\r\n    },\r\n    mounted() {\r\n        this.unwatchHandCursor = watch(this.handCursor, (newState) => {\r\n            if (newState.mode === \"draw\") {\r\n                this.opacity = this.brush.opacity;\r\n                this.size = this.brush.size;\r\n            } else if (newState.mode == \"erase\") {\r\n                this.opacity = this.eraser.opacity;\r\n                this.size = this.eraser.size;\r\n            }\r\n        });\r\n    },\r\n    beforeUnmount() {\r\n        // Stop watching when the component is unmounted\r\n        this.unwatchHandCursor();\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/stylesheets/main.scss\";\r\n.container {\r\n    position: absolute;\r\n    transform: translate(0, -50%);\r\n    top: 50%;\r\n    left: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: $body-color;\r\n\r\n    width: 80px;\r\n    height: 70%;\r\n    padding: 12px;\r\n    margin: 12px;\r\n    border-radius: 12px;\r\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\r\n}\r\n:deep(.colorpicker) {\r\n    /* make clickable box a 100x100 circle */\r\n    width: 100%;\r\n    margin: 12px;\r\n\r\n    .dropdown {\r\n        display: flex;\r\n        width: 100%;\r\n        aspect-ratio: 1;\r\n        .dropdown-trigger {\r\n            display: flex;\r\n            width: 100%;\r\n            height: auto;\r\n            aspect-ratio: 1;\r\n            * {\r\n                display: flex;\r\n                width: 100%;\r\n                height: auto;\r\n                aspect-ratio: 1;\r\n            }\r\n            span {\r\n                display: none;\r\n            }\r\n            button {\r\n                border-radius: 5px;\r\n            }\r\n        }\r\n        .dropdown-menu {\r\n            transform: translate(0%, -50%);\r\n            top: 0;\r\n            bottom: auto;\r\n            left: 150%;\r\n            right: auto;\r\n\r\n            svg.b-colorpicker-triangle {\r\n                width: auto;\r\n                height: 50vh;\r\n                aspect-ratio: 1;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { defineStore } from \"pinia\";\r\n\r\nexport const brushStore = defineStore(\"brush\", {\r\n    state: () => {\r\n        return {\r\n            color: \"#000000\",\r\n            size: 10,\r\n            opacity: 1,\r\n        };\r\n    },\r\n});\r\n","import { defineStore } from \"pinia\";\r\n\r\nexport const eraserStore = defineStore(\"eraser\", {\r\n    state: () => {\r\n        return {\r\n            color: \"#000000\",\r\n            size: 20,\r\n            opacity: 1,\r\n        };\r\n    },\r\n});\r\n","<template>\r\n    <div class=\"slider vertical\">\r\n        <div ref=\"track\" class=\"track\" @mousedown=\"startSliding\">\r\n            <div\r\n                ref=\"thumb\"\r\n                class=\"thumb\"\r\n                :style=\"{ bottom: `${valuePercentage}%` }\"\r\n            ></div>\r\n            <div\r\n                ref=\"progress\"\r\n                class=\"progress\"\r\n                :style=\"{ height: `${valuePercentage + 10}%` }\"\r\n            ></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"SliderInput\",\r\n    props: {\r\n        modelValue: {\r\n            type: Number,\r\n            required: true,\r\n        },\r\n        min: {\r\n            type: Number,\r\n            default: 0,\r\n        },\r\n        max: {\r\n            type: Number,\r\n            default: 100,\r\n        },\r\n        step: {\r\n            type: Number,\r\n            default: 1,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            isSliding: false,\r\n            startY: 0,\r\n            startValue: this.modelValue,\r\n        };\r\n    },\r\n    computed: {\r\n        valuePercentage() {\r\n            return ((this.modelValue - this.min) / (this.max - this.min)) * 90;\r\n        },\r\n    },\r\n    mounted() {\r\n        window.addEventListener(\"mousemove\", this.slide);\r\n        window.addEventListener(\"mouseup\", this.stopSliding);\r\n    },\r\n    beforeUnmount() {\r\n        window.removeEventListener(\"mousemove\", this.slide);\r\n        window.removeEventListener(\"mouseup\", this.stopSliding);\r\n    },\r\n    methods: {\r\n        startSliding(event) {\r\n            this.isSliding = true;\r\n            this.startY = event.clientY;\r\n            this.startValue = this.modelValue;\r\n        },\r\n        slide(event) {\r\n            if (!this.isSliding) return;\r\n\r\n            const trackHeight = this.$refs.track.clientHeight;\r\n            const delta = this.startY - event.clientY;\r\n            const newValue = Math.max(\r\n                this.min,\r\n                Math.min(\r\n                    this.max,\r\n                    this.startValue +\r\n                        (delta / trackHeight) * (this.max - this.min)\r\n                )\r\n            );\r\n            const closestStep = Math.round(newValue / this.step) * this.step;\r\n\r\n            const newModelValue = Math.max(\r\n                this.min,\r\n                Math.min(this.max, closestStep)\r\n            );\r\n            this.$emit(\"update:modelValue\", newModelValue);\r\n        },\r\n        stopSliding() {\r\n            this.isSliding = false;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/stylesheets/main.scss\";\r\n.slider {\r\n    -webkit-user-select: none; /* Safari */\r\n    -ms-user-select: none; /* IE 10 and IE 11 */\r\n    user-select: none; /* Standard syntax */\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n.track {\r\n    position: relative;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: rgba(255, 255, 255, 0.2);\r\n    border-radius: 5px;\r\n}\r\n.thumb {\r\n    position: absolute;\r\n    // transform: translate(0%, 50%);\r\n    height: 10%;\r\n    width: 100%;\r\n    background-color: rgb(200, 200, 200);\r\n    z-index: 9;\r\n    border-radius: 5px;\r\n    transition: 50ms;\r\n}\r\n.progress {\r\n    position: absolute;\r\n    width: 100%;\r\n    background-color: rgba(255, 255, 255, 0.4);\r\n    bottom: 0;\r\n    border-radius: 5px;\r\n    transition: 50ms;\r\n}\r\n</style>\r\n","import { render } from \"./SliderInput.vue?vue&type=template&id=47a3a028&scoped=true\"\nimport script from \"./SliderInput.vue?vue&type=script&lang=js\"\nexport * from \"./SliderInput.vue?vue&type=script&lang=js\"\n\nimport \"./SliderInput.vue?vue&type=style&index=0&id=47a3a028&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47a3a028\"]])\n\nexport default __exports__","import { render } from \"./BrushSettings.vue?vue&type=template&id=afed13d8&scoped=true\"\nimport script from \"./BrushSettings.vue?vue&type=script&lang=js\"\nexport * from \"./BrushSettings.vue?vue&type=script&lang=js\"\n\nimport \"./BrushSettings.vue?vue&type=style&index=0&id=afed13d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-afed13d8\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"cursor\">\r\n        <!-- Your cursor content here -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { handCursorStore } from \"@/stores/handCursor\";\r\nimport { brushStore } from \"@/stores/brush\";\r\n\r\nexport default {\r\n    name: \"HandCursor\",\r\n    data() {\r\n        return {\r\n            handCursor: handCursorStore(),\r\n            brush: brushStore(),\r\n        };\r\n    },\r\n    mounted() {\r\n        // Add event listeners to track cursor movement\r\n        document.addEventListener(\"mousemove\", this.handleMouseMove);\r\n    },\r\n    beforeUnmount() {\r\n        // Remove event listeners when component is unmounted\r\n        document.removeEventListener(\"mousemove\", this.handleMouseMove);\r\n    },\r\n    methods: {\r\n        handleMouseMove(event) {\r\n            // Update cursor position based on mouse movement\r\n            const cursor = document.querySelector(\".cursor\");\r\n            if (this.handCursor.mode === \"draw\") {\r\n                cursor.style.mixBlendMode = \"\";\r\n                cursor.style.backgroundColor = this.brush.color;\r\n                cursor.style.borderColor = \"#ffffff\";\r\n            } else if (this.handCursor.mode === \"erase\") {\r\n                cursor.style.mixBlendMode = \"difference\";\r\n                cursor.style.backgroundColor = \"#ffffff\";\r\n                cursor.style.borderColor = this.brush.color;\r\n            }\r\n            cursor.style.left = event.clientX + \"px\";\r\n            cursor.style.top = event.clientY + \"px\";\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/stylesheets/main.scss\";\r\n.cursor {\r\n    position: fixed;\r\n    transform: translate(-50%, -50%);\r\n    width: 20px;\r\n    height: 20px;\r\n    background: $primary-color;\r\n    border-color: white;\r\n    border-width: 2px;\r\n    border-style: solid;\r\n    border-radius: 50%;\r\n    pointer-events: none;\r\n    z-index: 99999;\r\n    // transition: 50ms;\r\n}\r\n</style>\r\n","import { render } from \"./HandCursor.vue?vue&type=template&id=9e8fbd24&scoped=true\"\nimport script from \"./HandCursor.vue?vue&type=script&lang=js\"\nexport * from \"./HandCursor.vue?vue&type=script&lang=js\"\n\nimport \"./HandCursor.vue?vue&type=style&index=0&id=9e8fbd24&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9e8fbd24\"]])\n\nexport default __exports__","<template>\r\n    <div\r\n        class=\"container\"\r\n        id=\"panArea\"\r\n        ref=\"panArea\"\r\n        @mousedown=\"startDrawing\"\r\n        @mousemove=\"draw\"\r\n        @mouseup=\"stopDrawing\"\r\n    >\r\n        <canvas\r\n            id=\"canvas\"\r\n            ref=\"canvas\"\r\n            @download-canvas=\"downloadCanvas\"\r\n        ></canvas>\r\n        <canvas id=\"background\" ref=\"background\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport paper from \"paper\";\r\nimport { handCursorStore } from \"@/stores/handCursor\";\r\nimport { brushStore } from \"@/stores/brush\";\r\nimport { eraserStore } from \"@/stores/eraser\";\r\nimport { eventBus } from \"@/assets/scripts/eventBus\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            isLeftDown: false, // Trust me its important. Need to make sure order of methods are correct.\r\n            isRightDown: false, // Trust me its important. Need to make sure order of methods are correct.\r\n            path: null,\r\n            scale: 1,\r\n            rotation: 0,\r\n            panInitialZoom: null,\r\n            panInitalAngle: null,\r\n            panInitialOffsetX: null,\r\n            panInitialOffsetY: null,\r\n\r\n            handCursor: handCursorStore(),\r\n            brush: brushStore(),\r\n            eraser: eraserStore(),\r\n        };\r\n    },\r\n    setup() {},\r\n    mounted() {\r\n        paper.setup(this.$refs.canvas);\r\n        this.$refs.canvas.width = 1920;\r\n        this.$refs.canvas.height = 1080;\r\n        this.$refs.background.width = 1920;\r\n        this.$refs.background.height = 1080;\r\n        this.scale = window.innerWidth / 2400;\r\n        this.$refs.canvas.style.transform = `translate(-50%, -50%) scale(${this.scale})`;\r\n        this.$refs.background.style.transform = `translate(-50%, -50%) scale(${this.scale})`;\r\n\r\n        // Listen for the 'download' event on the event bus\r\n        eventBus.on(\"download\", this.downloadCanvas);\r\n    },\r\n    beforeUnmount() {\r\n        paper.projects.forEach((project) => {\r\n            project.remove();\r\n        });\r\n        // Remove the event listener on unmount\r\n        eventBus.off(\"download\", this.downloadCanvas);\r\n    },\r\n    methods: {\r\n        startDrawing(event) {\r\n            switch (event.handedness) {\r\n                case \"Left\": // Left mouse button\r\n                    this.isLeftDown = true;\r\n                    break;\r\n                default: // Right mouse button\r\n                    this.isRightDown = true;\r\n\r\n                    switch (this.handCursor.mode) {\r\n                        case \"draw\":\r\n                            this.path = new paper.Path({\r\n                                strokeColor: this.brush.color,\r\n                                strokeWidth: this.brush.size,\r\n                                strokeJoin: \"round\",\r\n                                opacity: this.brush.opacity,\r\n                                strokeCap: \"round\",\r\n                                blendMode: \"normal\",\r\n                            });\r\n                            break;\r\n                        case \"erase\":\r\n                            this.path = new paper.Path({\r\n                                strokeColor: this.eraser.color,\r\n                                strokeWidth: this.eraser.size,\r\n                                strokeJoin: \"round\",\r\n                                opacity: this.eraser.opacity,\r\n                                strokeCap: \"round\",\r\n                                blendMode: \"destination-out\",\r\n                            });\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    paper.view.draw();\r\n                    break;\r\n            }\r\n            this.panInitialOffsetX =\r\n                this.$refs.canvas.offsetLeft - this.handCursor.leftX;\r\n            this.panInitialOffsetY =\r\n                this.$refs.canvas.offsetTop - this.handCursor.leftY;\r\n\r\n            this.panInitalAngle =\r\n                Math.atan2(\r\n                    this.handCursor.rightY - this.handCursor.leftY,\r\n                    this.handCursor.rightX - this.handCursor.leftX\r\n                ) - this.rotation;\r\n            this.panInitialZoom =\r\n                Math.sqrt(\r\n                    Math.pow(\r\n                        this.handCursor.rightX - this.handCursor.leftX,\r\n                        2\r\n                    ) +\r\n                        Math.pow(\r\n                            this.handCursor.rightY - this.handCursor.leftY,\r\n                            2\r\n                        )\r\n                ) / this.scale;\r\n        },\r\n        draw(event) {\r\n            if (this.isLeftDown && this.isRightDown) {\r\n                const angle = Math.atan2(\r\n                    this.handCursor.rightY - this.handCursor.leftY,\r\n                    this.handCursor.rightX - this.handCursor.leftX\r\n                );\r\n                this.rotation = angle - this.panInitalAngle;\r\n\r\n                const zoom = Math.sqrt(\r\n                    Math.pow(\r\n                        this.handCursor.rightX - this.handCursor.leftX,\r\n                        2\r\n                    ) +\r\n                        Math.pow(\r\n                            this.handCursor.rightY - this.handCursor.leftY,\r\n                            2\r\n                        )\r\n                );\r\n                this.scale = zoom / this.panInitialZoom;\r\n\r\n                this.$refs.canvas.style.transform = `translate(-50%, -50%) rotate(${this.rotation}rad) scale(${this.scale})`;\r\n                this.$refs.background.style.transform = `translate(-50%, -50%) rotate(${this.rotation}rad) scale(${this.scale})`;\r\n\r\n                this.panInitialOffsetX =\r\n                    this.$refs.canvas.offsetLeft - this.handCursor.leftX;\r\n                this.panInitialOffsetY =\r\n                    this.$refs.canvas.offsetTop - this.handCursor.leftY;\r\n            } else {\r\n                this.panInitalAngle = null;\r\n                this.panInitialZoom = null;\r\n\r\n                switch (event.handedness) {\r\n                    case \"Left\": // Left mouse button\r\n                        if (!this.isLeftDown) {\r\n                            break;\r\n                        }\r\n                        this.$refs.canvas.style.left = `${\r\n                            this.panInitialOffsetX + this.handCursor.leftX\r\n                        }px`;\r\n                        this.$refs.canvas.style.top = `${\r\n                            this.panInitialOffsetY + this.handCursor.leftY\r\n                        }px`;\r\n                        this.$refs.background.style.left = `${\r\n                            this.panInitialOffsetX + this.handCursor.leftX\r\n                        }px`;\r\n                        this.$refs.background.style.top = `${\r\n                            this.panInitialOffsetY + this.handCursor.leftY\r\n                        }px`;\r\n                        break;\r\n                    default: // Right mouse button\r\n                        if (!this.isRightDown) {\r\n                            break;\r\n                        }\r\n                        // Drawing functionality\r\n                        {\r\n                            // Right mouse button\r\n                            if (!this.path) return;\r\n\r\n                            // Calculate position relative to center (since transform origin is center)\r\n                            const relativeX =\r\n                                event.clientX - this.$refs.canvas.offsetLeft;\r\n                            const relativeY =\r\n                                event.clientY - this.$refs.canvas.offsetTop;\r\n\r\n                            // Apply inverse rotation around the center\r\n                            const cos = Math.cos(-this.rotation);\r\n                            const sin = Math.sin(-this.rotation);\r\n                            const rotatedX = relativeX * cos - relativeY * sin;\r\n                            const rotatedY = relativeX * sin + relativeY * cos;\r\n\r\n                            // Calculate center of the canvas\r\n                            const centerX = this.$refs.canvas.width / 2;\r\n                            const centerY = this.$refs.canvas.height / 2;\r\n\r\n                            // Convert back to canvas coordinates and apply scale\r\n                            const bx = rotatedX / this.scale + centerX;\r\n                            const by = rotatedY / this.scale + centerY;\r\n\r\n                            this.path.add(new paper.Point(bx, by));\r\n                            this.path.smooth({\r\n                                type: \"catmull-rom\",\r\n                                factor: 1,\r\n                                from: -Math.min(10, this.path.segments.length),\r\n                                to: -1,\r\n                            });\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        },\r\n        stopDrawing(event) {\r\n            switch (event.handedness) {\r\n                case \"Left\": // Left mouse button\r\n                    this.isLeftDown = false;\r\n                    break;\r\n                default: // Right mouse button\r\n                    this.isRightDown = false;\r\n                    {\r\n                        if (!this.path) return;\r\n                        const blendMode = this.path.blendMode;\r\n                        this.path.blendMode = \"normal\";\r\n                        let raster = this.path.rasterize();\r\n                        this.path.remove();\r\n                        raster.blendMode = blendMode;\r\n                        paper.view.draw();\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            this.panInitalAngle = null;\r\n            this.panInitialZoom = null;\r\n        },\r\n        downloadCanvas() {\r\n            console.log(\"downloading...\");\r\n            const canvas = this.$refs.canvas;\r\n            if (!canvas) {\r\n                console.error(\"Canvas element is not available.\");\r\n                return;\r\n            }\r\n            const dataURL = canvas.toDataURL(\"image/png\");\r\n            const link = document.createElement(\"a\");\r\n            link.href = dataURL;\r\n            link.download = \"canvas-image.png\"; // Default file name\r\n            link.click();\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ncanvas {\r\n    position: fixed;\r\n    width: 1920px;\r\n    height: 1080px;\r\n    top: 50vh;\r\n    left: 50vw;\r\n    z-index: 0;\r\n    transform: translate(-50%, -50%);\r\n    transform-origin: center center; /* This ensures rotation happens around center */\r\n}\r\n\r\n#canvas {\r\n    background-color: transparent;\r\n}\r\n\r\n#background {\r\n    z-index: -1;\r\n    background-color: white;\r\n}\r\n\r\n.container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100vw;\r\n    height: 100vh;\r\n}\r\n</style>\r\n","import mitt from \"mitt\";\r\nexport const eventBus = mitt();\r\n","import { render } from \"./DrawingCanvas.vue?vue&type=template&id=573b710c&scoped=true\"\nimport script from \"./DrawingCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./DrawingCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./DrawingCanvas.vue?vue&type=style&index=0&id=573b710c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-573b710c\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"container\">\r\n        <Button\r\n            :class=\"{ 'p-button-primary': handCursor.mode === 'draw' }\"\r\n            text\r\n            aria-label=\"Draw\"\r\n            @click=\"selectButton('draw')\"\r\n        >\r\n            <i class=\"pi pi-pencil\"></i>\r\n        </Button>\r\n        <Button\r\n            :class=\"{ 'p-button-primary': handCursor.mode === 'erase' }\"\r\n            text\r\n            aria-label=\"Erase\"\r\n            @click=\"selectButton('erase')\"\r\n        >\r\n            <i class=\"pi pi-eraser\"></i>\r\n        </Button>\r\n        <!-- <Button\r\n      :class=\"{ 'p-button-primary': handCursor.mode === 'pan' }\"\r\n      text\r\n      rounded\r\n      aria-label=\"Pan\"\r\n      @click=\"selectButton('pan')\"\r\n    >\r\n      <i class=\"pi pi-arrows-alt\"></i>\r\n    </Button> -->\r\n        <Button text aria-label=\"Download\" @click=\"downloadCanvas\">\r\n            <i class=\"pi pi-download\"></i>\r\n        </Button>\r\n        <Button text aria-label=\"Share\" @click=\"share\">\r\n            <i class=\"pi pi-link\" :value=\"link\" ref=\"share\"></i>\r\n        </Button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { handCursorStore } from \"@/stores/handCursor\";\r\nimport { eventBus } from \"@/assets/scripts/eventBus\";\r\nimport { useToast } from \"primevue/usetoast\";\r\n\r\nimport Button from \"primevue/button\";\r\n\r\nexport default defineComponent({\r\n    components: {\r\n        Button,\r\n    },\r\n    data() {\r\n        return { toast: null };\r\n    },\r\n    setup() {\r\n        const handCursor = handCursorStore();\r\n\r\n        const selectButton = (buttonType) => {\r\n            handCursor.mode = buttonType;\r\n        };\r\n\r\n        return {\r\n            handCursor,\r\n            selectButton,\r\n        };\r\n    },\r\n    mounted() {\r\n        this.toast = useToast();\r\n    },\r\n    computed: {\r\n        link() {\r\n            return window.location.href;\r\n        },\r\n    },\r\n    methods: {\r\n        downloadCanvas() {\r\n            console.log(\"clicked download\");\r\n            eventBus.emit(\"download\");\r\n            this.toast.add({\r\n                severity: \"contrast\",\r\n                summary: \"Downloading whiteboard as PNG\",\r\n                detail: \"Check your downloads folder for the image file\",\r\n                life: 5000,\r\n            });\r\n        },\r\n        share() {\r\n            var textArea = document.createElement(\"textarea\");\r\n            textArea.value = window.location.href;\r\n\r\n            // Avoid scrolling to bottom\r\n            textArea.style.top = \"0\";\r\n            textArea.style.left = \"0\";\r\n            textArea.style.position = \"fixed\";\r\n\r\n            document.body.appendChild(textArea);\r\n            textArea.focus();\r\n            textArea.select();\r\n\r\n            try {\r\n                var successful = document.execCommand(\"copy\");\r\n                if (successful) {\r\n                    this.toast.add({\r\n                        severity: \"contrast\",\r\n                        summary: \"Link copied successfully!\",\r\n                        detail: `Share this fun drawing-webapp with your friends and family :)`,\r\n                        life: 5000,\r\n                    });\r\n                }\r\n                var msg = successful ? \"successful\" : \"unsuccessful\";\r\n                console.log(\"Fallback: Copying text command was \" + msg);\r\n            } catch (err) {\r\n                console.error(\"Fallback: Oops, unable to copy\", err);\r\n            }\r\n\r\n            document.body.removeChild(textArea);\r\n        },\r\n    },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/stylesheets/main.scss\";\r\n\r\n.container {\r\n    position: absolute;\r\n    transform: translate(-50%, 0);\r\n    left: 50%;\r\n    bottom: 0;\r\n    display: grid;\r\n    grid-auto-flow: column;\r\n    grid-column-gap: 10px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: $body-color;\r\n    padding: 12px;\r\n    margin: 12px;\r\n    border-radius: 12px;\r\n    box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 20px;\r\n}\r\n.pi {\r\n    font-size: 2rem;\r\n    padding: 4px;\r\n    border-radius: 12px;\r\n}\r\n.p-button-primary {\r\n    background-color: white;\r\n    color: black;\r\n}\r\n.p-button {\r\n    border-color: transparent;\r\n    border-width: 3px;\r\n}\r\n.p-button-text:not(:disabled):hover {\r\n    border-color: white;\r\n    border-width: 3px;\r\n}\r\n</style>\r\n","import { render } from \"./TaskBar.vue?vue&type=template&id=7330f483&scoped=true\"\nimport script from \"./TaskBar.vue?vue&type=script&lang=js\"\nexport * from \"./TaskBar.vue?vue&type=script&lang=js\"\n\nimport \"./TaskBar.vue?vue&type=style&index=0&id=7330f483&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7330f483\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=8ee52434&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=8ee52434&lang=scss&scoped=true\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ee52434\"]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport ToastService from \"primevue/toastservice\";\r\nimport App from \"./App.vue\";\r\n\r\nimport { createPinia } from \"pinia\";\r\n\r\nimport PrimeVue from \"primevue/config\";\r\nimport { definePreset } from \"@primevue/themes\";\r\nimport Aura from \"@primevue/themes/aura\";\r\n\r\nimport Buefy from \"buefy\";\r\nimport \"buefy/dist/buefy.css\";\r\nimport \"primeicons/primeicons.css\";\r\n\r\nconst pinia = createPinia();\r\nconst app = createApp(App);\r\n\r\napp.use(ToastService);\r\napp.use(pinia);\r\n\r\nconst Noir = definePreset(Aura, {\r\n    semantic: {\r\n        primary: {\r\n            50: \"{zinc.50}\",\r\n            100: \"{zinc.100}\",\r\n            200: \"{zinc.200}\",\r\n            300: \"{zinc.300}\",\r\n            400: \"{zinc.400}\",\r\n            500: \"{zinc.500}\",\r\n            600: \"{zinc.600}\",\r\n            700: \"{zinc.700}\",\r\n            800: \"{zinc.800}\",\r\n            900: \"{zinc.900}\",\r\n            950: \"{zinc.950}\",\r\n        },\r\n        colorScheme: {\r\n            light: {\r\n                primary: {\r\n                    color: \"{zinc.50}\",\r\n                    inverseColor: \"{zinc.950}\",\r\n                    hoverColor: \"{zinc.100}\",\r\n                    activeColor: \"{zinc.200}\",\r\n                },\r\n                highlight: {\r\n                    background: \"rgba(250, 250, 250, .16)\",\r\n                    focusBackground: \"rgba(250, 250, 250, .24)\",\r\n                    color: \"rgba(255,255,255,.87)\",\r\n                    focusColor: \"rgba(255,255,255,.87)\",\r\n                },\r\n            },\r\n            dark: {\r\n                primary: {\r\n                    color: \"{zinc.50}\",\r\n                    inverseColor: \"{zinc.950}\",\r\n                    hoverColor: \"{zinc.100}\",\r\n                    activeColor: \"{zinc.200}\",\r\n                },\r\n                highlight: {\r\n                    background: \"rgba(250, 250, 250, .16)\",\r\n                    focusBackground: \"rgba(250, 250, 250, .24)\",\r\n                    color: \"rgba(255,255,255,.87)\",\r\n                    focusColor: \"rgba(255,255,255,.87)\",\r\n                },\r\n            },\r\n        },\r\n    },\r\n});\r\n\r\napp.use(PrimeVue, {\r\n    theme: {\r\n        preset: Noir,\r\n    },\r\n});\r\napp.use(Buefy);\r\n\r\napp.mount(\"#app\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5437); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementBlock","_Fragment","_createVNode","_component_Toast","_createElementVNode","_hoisted_1","_component_HandCursor","_component_BrushSettings","_component_LiveWebStream","_component_TaskBar","_component_DrawingCanvas","key","ref","autoplay","$data","webcamSupported","_component_Card","style","header","_withCtx","_hoisted_2","_hoisted_3","_hoisted_4","_","_hoisted_5","_createCommentVNode","Vector","constructor","x","y","z","this","dist2D","landmark1","landmark2","root","value","Math","pow","sqrt","dist3D","dot2D","avgPoint","ratio","checkInside","A","B","C","AB","CB","AC","AC2","abs","getGesture","lm","type","threshold","max","gesture","mouseDown","close","distTip","distJoint","getCursor","cursor","tips","joints","isMouseDownLeft","isMouseDownRight","currentElement","mouseDownElementLeft","mouseDownElementRight","handleCursor","clicked","handedness","element","document","elementFromPoint","mouseMoveEvent","MouseEvent","clientX","clientY","view","window","bubbles","cancelable","dispatchEvent","mouseOutEvent","relatedTarget","mouseOverEvent","mouseDownEvent","mouseUpEvent","clickEvent","handCursorStore","defineStore","state","rightX","rightY","leftX","leftY","isLeftDown","isRightDown","mode","lazyRadius","history","history_len","lastX","lastY","actions","updateHandCursor","landmarks","borderMultiplier","rawX","rawY","innerWidth","innerHeight","dx","dy","dist","proportion","components","Card","data","handLandmarker","undefined","webcamRunning","lastVideoTime","results","handCursor","mounted","checkWebcamSupport","enableWebcam","createHandLandmarker","methods","navigator","mediaDevices","getUserMedia","console","error","vision","FilesetResolver","forVisionTasks","HandLandmarker","createFromOptions","baseOptions","modelAssetPath","delegate","runningMode","numHands","log","videoElement","$refs","constraints","video","aspectRatio","stream","srcObject","addEventListener","predictWebcam","err","canvasElement","canvasCtx","getContext","overlayElement","overlayCtx","width","clientWidth","height","clientHeight","documentElement","currentTime","detectForVideo","performance","now","clearRect","interpretLandMarks","requestAnimationFrame","i","length","handednesses","categoryName","modifiedLandmarks","map","point","drawConnectors","HAND_CONNECTIONS","color","lineWidth","drawLandmarks","radius","__exports__","_component_SliderInput","modelValue","$options","currentMode","size","_cache","$event","min","step","_component_b_colorpicker","brush","position","representation","opacity","brushStore","eraserStore","onMousedown","args","startSliding","_normalizeStyle","bottom","valuePercentage","name","props","Number","required","default","isSliding","startY","startValue","computed","slide","stopSliding","beforeUnmount","removeEventListener","event","trackHeight","track","delta","newValue","closestStep","round","newModelValue","$emit","SliderInput","eraser","unwatchHandCursor","watch","newState","handleMouseMove","querySelector","mixBlendMode","backgroundColor","borderColor","left","top","id","startDrawing","onMousemove","draw","onMouseup","stopDrawing","onDownloadCanvas","downloadCanvas","eventBus","mitt","path","scale","rotation","panInitialZoom","panInitalAngle","panInitialOffsetX","panInitialOffsetY","setup","paper","canvas","background","transform","on","forEach","project","remove","off","strokeColor","strokeWidth","strokeJoin","strokeCap","blendMode","offsetLeft","offsetTop","atan2","angle","zoom","relativeX","relativeY","cos","sin","rotatedX","rotatedY","centerX","centerY","bx","by","add","smooth","factor","from","segments","to","raster","rasterize","dataURL","toDataURL","link","createElement","href","download","click","_component_Button","_normalizeClass","_ctx","text","onClick","selectButton","share","defineComponent","Button","toast","buttonType","useToast","location","emit","severity","summary","detail","life","textArea","body","appendChild","focus","select","successful","execCommand","msg","removeChild","BrushSettings","LiveWebStream","HandCursor","DrawingCanvas","TaskBar","Toast","render","pinia","createPinia","app","createApp","App","use","ToastService","Noir","definePreset","Aura","semantic","primary","colorScheme","light","inverseColor","hoverColor","activeColor","highlight","focusBackground","focusColor","dark","PrimeVue","theme","preset","Buefy","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}