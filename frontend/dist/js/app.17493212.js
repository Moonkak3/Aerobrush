(function(){"use strict";var t={572:function(t,e,s){var n=s(5130),i=s(9005),a=s(6768);function r(t,e,s,n,i,r){const o=(0,a.g2)("HandCursor"),c=(0,a.g2)("LiveWebStream"),h=(0,a.g2)("DrawingCanvas");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(o),(0,a.bF)(c,{msg:"Welcome to Your Vue.js App"}),(0,a.bF)(h)],64)}var o=s(4232);const c={class:"container"},h={class:"live-stream-container"},l={ref:"videoElement",autoplay:""},u={ref:"canvasElement"};function d(t,e,s,n,i,r){return(0,a.uX)(),(0,a.CE)("div",{class:"card",style:(0,o.Tr)({top:i.divTop+"px",left:i.divLeft+"px"}),onMousedown:e[0]||(e[0]=(...t)=>r.startDragging&&r.startDragging(...t)),onMousemove:e[1]||(e[1]=(...t)=>r.dragging&&r.dragging(...t)),onMouseup:e[2]||(e[2]=(...t)=>r.stopDragging&&r.stopDragging(...t))},[(0,a.Lk)("div",c,[(0,a.Lk)("div",h,[(0,a.Lk)("video",l,null,512),(0,a.Lk)("canvas",u,null,512)])]),(0,a.Lk)("h1",null," Gesture: "+(0,o.v_)(i.gesture),1)],36)}var g=s(9395),v=s(8897),m=s(7861);class f{constructor(t,e,s=0){this.x=t,this.y=e,this.z=s}}function p(t,e,s=!0){let n=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);return s&&(n=Math.sqrt(n)),n}function w(t,e,s=!0){let n=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2);return s&&(n=Math.sqrt(n)),n}function b(t,e){return t.x*e.x+t.y*e.y}function y(t,e,s=.5){return new f(t.x*s+e.x*(1-s),t.y*s+e.y*(1-s))}function x(t,e,s){let n=new f(e.x-t.x,e.y-t.y),i=new f(e.x-s.x,e.y-s.y),a=new f(s.x-t.x,s.y-t.y),r=p(t,s,!1);return!(Math.abs(b(n,a))>r||Math.abs(b(i,a))>r)}function k(t){const e=Math.max(p(t[5],t[17]),p(t[17],t[0]),p(t[0],t[1]),p(t[1],t[5]));if(x(t[0],t[12],t[10])&&x(t[0],t[16],t[14])&&x(t[0],t[20],t[18])){let s=w(t[4],t[8]),n=w(t[3],t[7]);return s<n&&s<e/4?"click":"unclick"}return"open"}function D(t){const e=y(t[4],t[8],.75),s=y(t[3],t[6],.5),n=y(e,s,.25);return[n.x,n.y]}var X={data(){return{handLandmarker:void 0,webcamRunning:!0,lastVideoTime:-1,results:void 0,gesture:void 0,history:[],isDown:!1,isDragging:!1,startX:0,startY:0,divTop:20,divLeft:20}},mounted(){this.enableWebcam(),this.createHandLandmarker()},methods:{async createHandLandmarker(){try{const t=await g.Ps.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");this.handLandmarker=await g.Vb.createFromOptions(t,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"GPU"},runningMode:"VIDEO",numHands:2}),console.log("HandLandmarker initialized.")}catch(t){console.error("Error initializing HandLandmarker:",t)}},async enableWebcam(){const t=this.$refs.videoElement,e={video:{aspectRatio:16/9}};if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const s=await navigator.mediaDevices.getUserMedia(e);t.srcObject=s,t.addEventListener("loadeddata",this.predictWebcam)}catch(s){console.error("Error accessing webcam:",s)}else console.error("getUserMedia() is not supported by your browser")},async predictWebcam(){if(!this.handLandmarker)return void console.log("HandLandmarker is not initialized yet.");const t=this.$refs.videoElement,e=this.$refs.canvasElement,s=e.getContext("2d");e.width=t.clientWidth,e.height=t.clientHeight,this.lastVideoTime!==t.currentTime&&(this.lastVideoTime=t.currentTime,this.results=await this.handLandmarker.detectForVideo(t,performance.now())),s.clearRect(0,0,e.width,e.height),this.results&&this.results.landmarks&&this.interpretLandMarks(this.results.landmarks,s),this.webcamRunning&&window.requestAnimationFrame(this.predictWebcam)},interpretLandMarks(t,e){for(const s of t){const t=s.map((t=>({...t,x:1-t.x})));(0,v.drawConnectors)(e,t,m.HAND_CONNECTIONS,{color:"#00FF00",lineWidth:2}),(0,v.drawLandmarks)(e,t,{color:"#FF0000",lineWidth:.5}),this.gesture=k(t),this.history.unshift(this.gesture);while(this.history.length>10)this.history.pop();let n=null;switch(this.gesture){case"click":n="mousedown";break;case"unclick":n="mouseup";break;case"open":n="mouseup";break;default:break}let[i,a]=D(t);i*=window.innerWidth,a*=window.innerHeight;let r=document.elementFromPoint(i,a)??document.body,o={bubbles:!0,cancelable:!0,clientX:i,clientY:a};const c=new MouseEvent("mousemove",o);if(r.dispatchEvent(c),this.isDown&&"mouseup"===n||!this.isDown&&"mousedown"===n){this.isDown=!this.isDown;const t=new MouseEvent(n,o);if(r.dispatchEvent(t),"mouseup"===n){const t=new MouseEvent("click",o);r.dispatchEvent(t)}}}},startDragging(t){this.isDragging=!0,this.startX=t.clientX-this.divLeft,this.startY=t.clientY-this.divTop,document.body.addEventListener("mousemove",this.dragging),document.body.addEventListener("mouseup",this.stopDragging)},dragging(t){this.isDragging&&(this.divLeft=t.clientX-this.startX,this.divTop=t.clientY-this.startY)},stopDragging(){this.isDragging=!1,document.body.removeEventListener("mousemove",this.dragging),document.body.removeEventListener("mouseup",this.stopDragging)}}},L=s(1241);const M=(0,L.A)(X,[["render",d],["__scopeId","data-v-75871c30"]]);var Y=M;const E={class:"cursor"};function T(t,e,s,n,i,r){return(0,a.uX)(),(0,a.CE)("div",E)}var C={name:"HandCursor",data(){return{lastX:0,lastY:0,lazyRadius:10}},mounted(){document.addEventListener("mousemove",this.handleMouseMove)},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove)},methods:{handleMouseMove(t){const e=document.querySelector(".cursor"),s=t.clientX-this.lastX,n=t.clientY-this.lastY,i=(s**2+n**2)**.5;if(i<this.lazyRadius)return;const a=(i-this.lazyRadius)/i,r=this.lastX+s*a,o=this.lastY+n*a;e.style.left=r+"px",e.style.top=o+"px",this.lastX=r,this.lastY=o}}};const O=(0,L.A)(C,[["render",T],["__scopeId","data-v-f76c51f2"]]);var z=O;function W(t,e,s,n,i,r){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("canvas",{ref:"canvas",onMousedown:e[0]||(e[0]=(...t)=>r.startDrawing&&r.startDrawing(...t)),onMousemove:e[1]||(e[1]=(...t)=>r.draw&&r.draw(...t)),onMouseup:e[2]||(e[2]=(...t)=>r.stopDrawing&&r.stopDrawing(...t))},null,544)])}var F={data(){return{isDrawing:!1,ctx:null,lastX:[],lastY:[],lazyRadius:10,smoothing:"bezier"}},mounted(){this.$refs.canvas.width=1920,this.$refs.canvas.height=1080,this.$refs.canvas.left=(window.innerWidth-1920)/2,this.$refs.canvas.top=(window.innerHeight-1080)/2,this.ctx=this.$refs.canvas.getContext("2d"),this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.lineWidth=5,this.ctx.strokeStyle="#000000"},methods:{startDrawing(t){this.isDrawing=!0,this.lastX=[],this.lastY=[],this.lastX.unshift(t.clientX-this.$refs.canvas.offsetLeft),this.lastY.unshift(t.clientY-this.$refs.canvas.offsetTop);while(this.lastX.length>3)this.lastX.pop();while(this.lastY.length>3)this.lastY.pop()},draw(t){if(!this.isDrawing)return;console.log("darwing");const e=t.clientX-this.$refs.canvas.offsetLeft,s=t.clientY-this.$refs.canvas.offsetTop,n=e-this.lastX[0],i=s-this.lastY[0],a=(n**2+i**2)**.5;if(a<this.lazyRadius)return;const r=(a-this.lazyRadius)/a,o=this.lastX[0]+n*r,c=this.lastY[0]+i*r;this.ctx.beginPath(),"bezier"===this.smoothing?(this.ctx.moveTo(this.lastX[2],this.lastY[2]),this.ctx.bezierCurveTo(this.lastX[1],this.lastY[1],this.lastX[0],this.lastY[0],o,c)):"quadratic"===this.smoothing?(this.ctx.moveTo(this.lastX[1],this.lastY[1]),this.ctx.quadraticCurveTo(this.lastX[0],this.lastY[0],o,c)):"none"===this.smoothing&&(this.ctx.moveTo(this.lastX[0],this.lastY[0]),this.ctx.lineTo(o,c)),this.ctx.stroke(),this.lastX.unshift(o),this.lastY.unshift(c);while(this.lastX.length>3)this.lastX.pop();while(this.lastY.length>3)this.lastY.pop()},stopDrawing(){this.lastX=[],this.lastY=[],this.isDrawing=!1}}};const H=(0,L.A)(F,[["render",W],["__scopeId","data-v-678f1b20"]]);var _=H,$={name:"App",components:{LiveWebStream:Y,HandCursor:z,DrawingCanvas:_}};const R=(0,L.A)($,[["render",r]]);var j=R;const A=(0,i.Ey)(),V=(0,n.Ef)(j);V.use(A),V.mount("#app")}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,n,i,a){if(!n){var r=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],a=t[l][2];for(var o=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(s.O).every((function(t){return s.O[t](n[c])}))?n.splice(c--,1):(o=!1,a<r&&(r=a));if(o){t.splice(l--,1);var h=i();void 0!==h&&(e=h)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,a,r=n[0],o=n[1],c=n[2],h=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(c)var l=c(s)}for(e&&e(n);h<r.length;h++)a=r[h],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(l)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(572)}));n=s.O(n)})();
//# sourceMappingURL=app.17493212.js.map